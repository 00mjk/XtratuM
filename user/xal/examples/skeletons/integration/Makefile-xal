# XAL_PATH: Paths of the XtratuM distribution
XAL_PATH=../../..

# XMLCF: path to the XML configuration file
XMLCF=

# PARTITIONS: partition files (xef format) to integrate
PARTITIONS=

# CONTAINTER: container of the xtratum core, the partitions and the xm_cf configuration
CONTAINER=container.bin

all: resident_sw
include $(XAL_PATH)/common/rules.mk

PACK_ARGS=-h $(XMCORE_BIN):xm_cf.bin.xmc \
	-b xal-partition.xef:p1.cfg\
	-b spare-host.xef:p1.cfg\

$(CONTAINER): $(PARTITIONS) xm_cf.bin.xmc
	$(XMPACK) build $(PACK_ARGS) $@

.PHONY: initrd.img.gz


